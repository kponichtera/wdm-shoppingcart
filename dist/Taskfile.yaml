version: '3'

output: interleaved

vars:
  COMPOSE: "docker compose --project-directory . -f dev/docker-compose.yml -f dist/docker-compose.yml"

tasks:
  compose: "{{.COMPOSE}} {{.CLI_ARGS}}"
  compose_up: "{{.COMPOSE}} up --build --detach"
  compose_start: "{{.COMPOSE}} up"
  compose_stop: "{{.COMPOSE}} stop"
  compose_down: "{{.COMPOSE}} down --volumes"
  compose_logs: "{{.COMPOSE}} logs -f {{.CLI_ARGS}}"